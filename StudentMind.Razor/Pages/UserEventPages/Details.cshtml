@page "{id}"
@model StudentMind.Razor.Pages.UserEventPages.DetailsModel
@{
    ViewData["Title"] = "Event Details - Student Mind";
}

<div class="container py-5">
    <div class="text-center mb-5 fade-in">
        <h1 class="welcome-header">Event Details <i class="fas fa-calendar-alt text-coral"></i></h1>
    </div>

    <!-- Display success or error messages -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="fade-in">
        <div class="feature-card mx-auto" style="max-width: 600px;">
            <i class="fas fa-calendar-alt fa-2x text-coral mb-3"></i>
            <h3>@Model.Event.Name</h3>
            <p>@Model.Event.Description</p>
            <p><strong>Start:</strong> @Model.Event.StartDate.ToString("MMM dd, yyyy")</p>
            <p><strong>End:</strong> @Model.Event.EndDate.ToString("MMM dd, yyyy")</p>
            <p><strong>Host:</strong> @Model.Event.Host?.Username</p>
            <div class="d-flex gap-2">
                <a asp-page="Index" class="btn btn-secondary">Back to Events</a>
                <form method="post">
                    <input type="hidden" name="eventId" value="@Model.Event.Id" />
                    <button type="submit" asp-page-handler="Enroll" class="btn cobalt-blue-btn-dark">Enroll</button>
                </form>
            </div>
        </div>
    </div>
</div>